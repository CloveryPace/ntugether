{
  "swagger": "2.0",
  "info": {
    "title": "NTUgether API document",
    "description": "Description",
    "version": "1.0.0"
  },
  "host": "localhost:4000",
  "basePath": "/",
  "schemes": [
    "http"
  ],
  "paths": {
    "/": {
      "get": {
        "tags": [
          "Hello World!"
        ],
        "summary": "Health check",
        "description": "",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/application/{application_id}": {
      "get": {
        "tags": [
          "Activity Application"
        ],
        "description": "活動創立者可以檢視特定審核",
        "parameters": [
          {
            "name": "application_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "回傳特定審核id情況",
            "schema": {
              "type": "object",
              "properties": {
                "application_id": {
                  "type": "string",
                  "example": "審核id"
                },
                "application_response": {
                  "type": "string",
                  "example": "審核回覆"
                },
                "is_approved": {
                  "type": "string",
                  "example": "是否已被審核"
                },
                "applicant_id": {
                  "type": "string",
                  "example": "審核者id"
                },
                "Applicant": {
                  "type": "object",
                  "properties": {
                    "用戶欄位": {
                      "type": "string",
                      "example": "用戶資訊"
                    }
                  }
                },
                "Activity": {
                  "type": "string",
                  "example": "待審核申請的活動id"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "403": {
            "description": "用戶通過驗證，但不是活動創立者，無權限",
            "schema": {
              "type": "string",
              "example": "authorization failed",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "未找到該Application",
            "schema": {
              "type": "string",
              "example": "Application not found",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/application/{application_id}/approve": {
      "patch": {
        "tags": [
          "Activity Application"
        ],
        "description": "活動創立者可以進行問題審核，目前直接call這個API就會審核成功，自動將通過審核用戶加入活動參與者清單",
        "parameters": [
          {
            "name": "application_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "審核成功，將通過審核用戶加入參與者清單",
            "schema": {
              "type": "string",
              "example": "approved!",
              "xml": {
                "name": "main"
              }
            }
          },
          "400": {
            "description": "該申請已被通過",
            "schema": {
              "type": "string",
              "example": "application has been approved",
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "403": {
            "description": "用戶通過驗證，但不是活動創立者，無權限",
            "schema": {
              "type": "string",
              "example": "authorization failed",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "未找到該Application",
            "schema": {
              "type": "string",
              "example": "Application not found",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/activity/": {
      "get": {
        "tags": [
          "Activity"
        ],
        "summary": "取得活動列表",
        "description": "取得活動列表",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          },
          {
            "name": "limit",
            "in": "query",
            "type": "string"
          },
          {
            "name": "offset",
            "in": "query",
            "type": "string"
          },
          {
            "name": "start_date",
            "in": "query",
            "type": "string"
          },
          {
            "name": "end_date",
            "in": "query",
            "type": "string"
          },
          {
            "name": "search",
            "in": "query",
            "type": "string"
          },
          {
            "name": "country",
            "in": "query",
            "type": "string"
          },
          {
            "name": "location",
            "in": "query",
            "type": "string"
          },
          {
            "name": "is_long_term",
            "in": "query",
            "type": "string"
          },
          {
            "name": "mode",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "mode 未填或不符合格式",
            "schema": {
              "type": "string",
              "example": "invalid mode",
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "post": {
        "tags": [
          "Activity"
        ],
        "summary": "創立活動",
        "description": "創立一項活動",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "創立活動",
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "活動名稱"
                },
                "introduction": {
                  "type": "string",
                  "example": "活動介紹"
                },
                "date": {
                  "type": "string",
                  "example": "日期 or [日期]"
                },
                "country": {
                  "type": "string",
                  "example": "縣市"
                },
                "location": {
                  "type": "string",
                  "example": "地點"
                },
                "type": {
                  "type": "string",
                  "example": "類別"
                },
                "max_participants": {
                  "type": "string",
                  "example": "最大參與人數"
                },
                "need_reviewed": {
                  "type": "string",
                  "example": "是否需要創立者審核"
                },
                "is_one_time": {
                  "type": "string",
                  "example": "是否為一次性活動"
                },
                "application_problem": {
                  "type": "string",
                  "example": "審核問題"
                },
                "check_by_organizer": {
                  "type": "string",
                  "example": "是否需要創立者審查出席情況"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "創立活動成功，回傳活動id",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Successfully create an Activity"
                },
                "activity_id": {
                  "type": "string",
                  "example": "活動id"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/activity/{activity_id}": {
      "get": {
        "tags": [
          "Activity"
        ],
        "summary": "取得活動資料",
        "description": "取得該單一活動的資料",
        "parameters": [
          {
            "name": "activity_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "回傳該活動相關資料",
            "schema": {
              "type": "object",
              "properties": {
                "activity_id": {
                  "type": "string",
                  "example": "活動id"
                },
                "name": {
                  "type": "string",
                  "example": "活動名稱"
                },
                "introduction": {
                  "type": "string",
                  "example": "活動介紹"
                },
                "date": {
                  "type": "string",
                  "example": "日期 or [日期]"
                },
                "type": {
                  "type": "string",
                  "example": "類別"
                },
                "country": {
                  "type": "string",
                  "example": "縣市"
                },
                "location": {
                  "type": "string",
                  "example": "地點"
                },
                "max_participants": {
                  "type": "string",
                  "example": "最大參與人數"
                },
                "need_reviewed": {
                  "type": "boolean",
                  "example": false
                },
                "is_one_time": {
                  "type": "boolean",
                  "example": true
                },
                "application_problem": {
                  "type": "string",
                  "example": "審核問題"
                },
                "check_by_organizer": {
                  "type": "boolean",
                  "example": true
                },
                "created_user_id": {
                  "type": "string",
                  "example": "創立者id"
                },
                "Creator": {
                  "type": "object",
                  "properties": {
                    "用戶欄位": {
                      "type": "string",
                      "example": "創立用戶資訊"
                    }
                  }
                },
                "Participants": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "用戶欄位": {
                        "type": "string",
                        "example": "參與用戶資訊"
                      }
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "未找到該活動",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "Activity not found"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "patch": {
        "tags": [
          "Activity"
        ],
        "summary": "更新活動",
        "description": "更新該單一活動",
        "parameters": [
          {
            "name": "activity_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "updateParams": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "回傳update後資料",
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "活動名稱"
                },
                "introduction": {
                  "type": "string",
                  "example": "活動介紹"
                },
                "date": {
                  "type": "string",
                  "example": "日期"
                },
                "country": {
                  "type": "string",
                  "example": "縣市"
                },
                "location": {
                  "type": "string",
                  "example": "地點"
                },
                "max_participants": {
                  "type": "string",
                  "example": "最大參與人數"
                },
                "need_reviewed": {
                  "type": "string",
                  "example": "是否需要創立者審核"
                },
                "is_one_time": {
                  "type": "string",
                  "example": "是否為一次性活動"
                },
                "application_problem": {
                  "type": "string",
                  "example": "審核問題"
                },
                "check_by_organizer": {
                  "type": "string",
                  "example": "是否需要創立者審查出席情況"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "403": {
            "description": "用戶通過驗證，但不是活動創立者，無權限",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "You are not authorized to update this activity"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "未找到該活動",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "Activity not found"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "delete": {
        "tags": [
          "Activity"
        ],
        "summary": "刪除活動",
        "description": "刪除該單一活動",
        "parameters": [
          {
            "name": "activity_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "已成功刪除活動",
            "schema": {
              "type": "string",
              "example": "sucessfully delete",
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "403": {
            "description": "用戶通過驗證，但不是活動創立者，無權限",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "You are not authorized to delete this activity"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "未找到該活動",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "Activity not found"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/activity/{activity_id}/application": {
      "get": {
        "tags": [
          "Activity"
        ],
        "summary": "檢視審核列表",
        "description": "活動創建者可以檢視特定活動的所有待審核列表",
        "parameters": [
          {
            "name": "activity_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "回傳待審核名單",
            "schema": {
              "type": "object",
              "properties": {
                "application_id": {
                  "type": "string",
                  "example": "審核id"
                },
                "application_response": {
                  "type": "string",
                  "example": "審核回覆"
                },
                "is_approved": {
                  "type": "string",
                  "example": "boolean"
                },
                "applicant_id": {
                  "type": "string",
                  "example": "待審核者id"
                },
                "activity_id": {
                  "type": "string",
                  "example": "活動id"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "403": {
            "description": "用戶通過驗證，但不是活動創立者，無權限",
            "schema": {
              "type": "string",
              "example": "not activity creator",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "未找到該用戶",
            "schema": {
              "type": "string",
              "example": "Participants not found.",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/activity/{activity_id}/remove-user": {
      "patch": {
        "tags": [
          "Activity"
        ],
        "summary": "移除活動參與者",
        "description": "活動創建者移除活動中的用戶，一次移除一位",
        "parameters": [
          {
            "name": "activity_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "要移除的用戶id",
            "schema": {
              "type": "object",
              "properties": {
                "remove_user_id": {
                  "type": "string",
                  "example": "用戶id"
                }
              }
            }
          }
        ],
        "responses": {
          "204": {
            "description": "已將該用戶移出活動",
            "schema": {
              "type": "string",
              "example": "user removed",
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "403": {
            "description": "用戶通過驗證，但不是活動創立者，無權限",
            "schema": {
              "type": "string",
              "example": "authorization failed",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "未找到該活動",
            "schema": {
              "type": "string",
              "example": "Activity not found",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/activity/{activity_id}/apply": {
      "post": {
        "tags": [
          "Activity"
        ],
        "summary": "加入/申請活動",
        "description": "不論是否需要審核的活動都是使用這個API，不須審核的將直接加入。所有用戶都可以call這個API，但是活動建立者會被擋掉",
        "parameters": [
          {
            "name": "activity_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "需要審核活動的審核問題",
            "schema": {
              "type": "object",
              "properties": {
                "application_response": {
                  "type": "string",
                  "example": "審核回覆"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "用戶成功加入，活動不需審核",
            "schema": {
              "type": "string",
              "example": "joined！",
              "xml": {
                "name": "main"
              }
            }
          },
          "201": {
            "description": "用戶成功發出活動申請，待審核",
            "schema": {
              "type": "string",
              "example": "Successfully send the application",
              "xml": {
                "name": "main"
              }
            }
          },
          "400": {
            "description": "申請者已加入活動",
            "schema": {
              "type": "string",
              "example": "applier has already joined",
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "403": {
            "description": "用戶通過驗證，但為活動創立者，不應該申請",
            "schema": {
              "type": "string",
              "example": "Activity creator should not apply.",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "該活動不存在",
            "schema": {
              "type": "string",
              "example": "Activity not found",
              "xml": {
                "name": "main"
              }
            }
          },
          "409": {
            "description": "申請者已存在",
            "schema": {
              "type": "string",
              "example": "Applicant already exist.",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/activity/{activity_id}/participants": {
      "get": {
        "tags": [
          "Activity"
        ],
        "summary": "取得活動參與者",
        "description": "回傳活動所有參與者",
        "parameters": [
          {
            "name": "activity_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "回傳該活動參與紀錄",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "createdAt": {
                    "type": "string",
                    "example": "datetime"
                  },
                  "updatedAt": {
                    "type": "string",
                    "example": "datetime"
                  },
                  "joined_activities": {
                    "type": "string",
                    "example": "參與活動id"
                  },
                  "participants": {
                    "type": "string",
                    "example": "參與者id"
                  },
                  "User": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "example": "參與者姓名"
                      }
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "該活動不存在",
            "schema": {
              "type": "string",
              "example": "Activity not found",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/activity/{activity_id}/discussion": {
      "get": {
        "tags": [
          "Activity"
        ],
        "summary": "取得活動留言",
        "description": "取得該活動的留言",
        "parameters": [
          {
            "name": "activity_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          },
          {
            "name": "limit",
            "in": "query",
            "description": "回傳資料數量限制，ex: limit=10, 限制前10筆",
            "type": "integer",
            "schema": {
              "type": "string",
              "example": "10"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "跳過資料數量限制，ex: offset=10，跳過前10筆",
            "type": "int",
            "schema": {
              "type": "string",
              "example": "0"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "回傳該活動留言。包括該留言資料，該留言會員資料以及活動資料",
            "schema": {
              "type": "object",
              "properties": {
                "discussion_id": {
                  "type": "string",
                  "example": "留言id"
                },
                "content": {
                  "type": "string",
                  "example": "留言內容"
                },
                "sender_id": {
                  "type": "string",
                  "example": "留言用戶id"
                },
                "activity_id": {
                  "type": "string",
                  "example": "留言的活動id"
                },
                "Sender": {
                  "type": "object",
                  "properties": {
                    "用戶細節": {
                      "type": "string",
                      "example": "..."
                    }
                  }
                },
                "Activity": {
                  "type": "object",
                  "properties": {
                    "活動細節": {
                      "type": "string",
                      "example": "..."
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "活動不存在",
            "schema": {
              "type": "string",
              "example": "Activity not found",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "post": {
        "tags": [
          "Activity"
        ],
        "summary": "建立活動留言",
        "description": "建立該活動的留言",
        "parameters": [
          {
            "name": "activity_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          },
          {
            "name": "content",
            "in": "body",
            "description": "留言內容",
            "schema": {
              "type": "object",
              "properties": {
                "content": {
                  "type": "string",
                  "example": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "留言建立成功",
            "schema": {
              "type": "string",
              "example": "discussion made",
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "403": {
            "description": "用戶通過驗證，但用戶未參加該活動",
            "schema": {
              "type": "string",
              "example": "User hasn't joined the activity",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "活動不存在",
            "schema": {
              "type": "string",
              "example": "Activity not found",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/activity/{activity_id}/leave": {
      "post": {
        "tags": [
          "Activity"
        ],
        "summary": "離開活動",
        "description": "該功能尚未完成QQ",
        "parameters": [
          {
            "name": "activity_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    },
    "/user/": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "用戶詳細資料",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "members": {
                    "type": "string",
                    "example": "{ ... }"
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "用戶不存在",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "User not found."
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "網路或其他不明原因錯誤"
          }
        }
      },
      "put": {
        "tags": [
          "User"
        ],
        "description": "",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "更新會員資料",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "用戶名稱"
                },
                "phoneNum": {
                  "type": "string",
                  "example": "電話號碼"
                },
                "gender": {
                  "type": "string",
                  "example": "性別"
                },
                "aboutMe": {
                  "type": "string",
                  "example": "個人簡介"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "會員資料更新成功",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Member updated successfully"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "使用者身分驗證錯誤",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "authorization fail"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "請至少更新一行",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Please update at least one row."
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "網路或其他不明原因錯誤"
          }
        },
        "security": [
          {
            "bearerAuth": [
              {
                "type": "http",
                "scheme": "bearer"
              }
            ]
          }
        ]
      },
      "delete": {
        "tags": [
          "User"
        ],
        "description": "",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "204": {
            "description": "會員刪除成功",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Member deleted successfully"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "使用者身分驗證錯誤",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "authorization fail"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "會員不存在",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Member not found."
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "網路或其他不明原因錯誤"
          }
        },
        "security": [
          {
            "bearerAuth": [
              {
                "type": "http",
                "scheme": "bearer"
              }
            ]
          }
        ]
      }
    },
    "/user/allMembers": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "用戶詳細資料",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "members": {
                    "type": "string",
                    "example": "{ ... }"
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "用戶不存在",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "User not found."
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "網路或其他不明原因錯誤"
          }
        }
      }
    },
    "/user/forgetPassword": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "忘記密碼，輸入信箱後發送驗證碼",
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "忘記密碼驗證信發送成功",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "You have requested to reset your password. Please verify within 10 minute."
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "用戶不存在",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "User not found."
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "網路或其他不明原因錯誤"
          }
        }
      }
    },
    "/user/emailSend": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "信箱註冊驗證碼發送",
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "註冊驗證信發送成功",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "You have requested to reset your password. Please verify within 10 minute."
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "409": {
            "description": "用戶已存在，請使用其他信箱",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "User already exists."
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "網路或其他不明原因錯誤"
          }
        }
      }
    },
    "/user/signup": {
      "post": {
        "tags": [
          "User"
        ],
        "description": "",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "Sign up 內容",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "用戶名稱"
                },
                "email": {
                  "type": "string",
                  "example": "用戶信箱"
                },
                "birthday": {
                  "type": "string",
                  "example": "2000-01-01"
                },
                "gender": {
                  "type": "string",
                  "example": "male"
                },
                "password": {
                  "type": "string",
                  "example": "any"
                },
                "code": {
                  "type": "string",
                  "example": "驗證碼"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "建立成功",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Member created successfully."
                },
                "token": {
                  "type": "string",
                  "example": "JWT_token"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "Invalid or expired verification code."
          },
          "409": {
            "description": "Email Conflict",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "Email already exists"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "網路或其他不明原因錯誤"
          }
        }
      }
    },
    "/user/signin": {
      "post": {
        "tags": [
          "User"
        ],
        "description": "",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "Sign in 內容",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "email": {
                  "type": "string",
                  "example": "用戶信箱"
                },
                "password": {
                  "type": "string",
                  "example": "用戶密碼"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "201": {
            "description": "登入成功",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Sign in successfully."
                },
                "token": {
                  "type": "string",
                  "example": "JWT_token"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "密碼錯誤",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "Invalid credentials"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "用戶不存在",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "User not found."
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "網路或其他不明原因錯誤"
          }
        }
      }
    },
    "/user/resetPassword": {
      "post": {
        "tags": [
          "User"
        ],
        "description": "",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "description": "收到驗證信後，重設密碼",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "email": {
                  "type": "string",
                  "example": "用戶信箱"
                },
                "code": {
                  "type": "string",
                  "example": "驗證碼"
                },
                "newPassword": {
                  "type": "string",
                  "example": "用戶新密碼"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "密碼更改成功",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Password reset successfully"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "驗證碼錯誤",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "Invalid or expired verification code"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "用戶不存在",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "User not found."
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "網路或其他不明原因錯誤"
          }
        }
      }
    },
    "/user/auth/google/signup": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "Oauth註冊API，請注意不要跟/user/signup之信箱相同",
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/user/oauth2callback/signup": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "OAuth callback for signup. Redirects to home page on success.",
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/user/auth/google/login": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "Oauth登入API",
        "responses": {
          "default": {
            "description": ""
          }
        }
      }
    },
    "/user/oauth2callback/login": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "OAuth callback for login. Redirects to home page on success.",
        "responses": {
          "200": {
            "description": "Google Oauth登入成功",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "example": "success"
                },
                "message": {
                  "type": "string",
                  "example": "User authenticated successfully"
                },
                "token": {
                  "type": "string",
                  "example": "jwt_token"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    },
    "/user/auth/failure": {
      "get": {
        "tags": [
          "User"
        ],
        "description": "Oauth驗證失敗API",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/plan/": {
      "post": {
        "tags": [
          "Plan"
        ],
        "summary": "創立計畫",
        "description": "創立一項計畫",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "創立計畫",
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "計畫名稱"
                },
                "goal": {
                  "type": "string",
                  "example": "計畫目標"
                },
                "introduction": {
                  "type": "string",
                  "example": "計畫介紹"
                },
                "start_date": {
                  "type": "string",
                  "example": "2024-03-21"
                },
                "end_date": {
                  "type": "string",
                  "example": "2024-09-07"
                },
                "tags": {
                  "type": "array",
                  "example": [
                    "Exam",
                    "Exercise",
                    "Learning"
                  ],
                  "items": {
                    "type": "string"
                  }
                },
                "invitees": {
                  "type": "array",
                  "example": [],
                  "items": {}
                },
                "progression": {
                  "type": "array",
                  "example": [
                    null,
                    {
                      "name": "進度名稱",
                      "times": "次數",
                      "need_activity": false
                    }
                  ],
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string",
                        "example": "進度名稱"
                      },
                      "times": {
                        "type": "string",
                        "example": "次數"
                      },
                      "need_activity": {
                        "type": "boolean",
                        "example": false
                      }
                    }
                  }
                },
                "need_reviewed": {
                  "type": "string",
                  "example": "0"
                },
                "application_problem": {
                  "type": "string",
                  "example": "審查問題"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "創立計畫成功",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "plan created"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "get": {
        "tags": [
          "Plan"
        ],
        "summary": "獲得計畫列表",
        "description": "API Document未完成",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          },
          {
            "name": "limit",
            "in": "query",
            "type": "string"
          },
          {
            "name": "offset",
            "in": "query",
            "type": "string"
          },
          {
            "name": "start_date",
            "in": "query",
            "type": "string"
          },
          {
            "name": "end_date",
            "in": "query",
            "type": "string"
          },
          {
            "name": "search",
            "in": "query",
            "type": "string"
          },
          {
            "name": "mode",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/plan/{plan_id}": {
      "get": {
        "tags": [
          "Plan"
        ],
        "summary": "獲得計畫細節",
        "description": "API Document未完成",
        "parameters": [
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "patch": {
        "tags": [
          "Plan"
        ],
        "summary": "更新計畫",
        "description": "更新該單一計畫",
        "parameters": [
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "更新計畫",
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "計畫名稱"
                },
                "goal": {
                  "type": "string",
                  "example": "計畫目標"
                },
                "introduction": {
                  "type": "string",
                  "example": "計畫介紹"
                },
                "start_date": {
                  "type": "string",
                  "example": "2024-03-21"
                },
                "end_date": {
                  "type": "string",
                  "example": "2024-09-07"
                },
                "tags": {
                  "type": "array",
                  "example": [
                    "Exam",
                    "Exercise",
                    "Learning"
                  ],
                  "items": {
                    "type": "string"
                  }
                },
                "invitees": {
                  "type": "array",
                  "example": [],
                  "items": {}
                },
                "progression": {
                  "type": "object",
                  "properties": {
                    "english": {
                      "type": "number",
                      "example": 10
                    },
                    "chinese": {
                      "type": "number",
                      "example": 5
                    }
                  }
                },
                "need_reviewed": {
                  "type": "string",
                  "example": "0"
                },
                "application_problem": {
                  "type": "string",
                  "example": "審查問題"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "tag不符合格式",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "invalid tag"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "403": {
            "description": "用戶通過驗證，但不是計畫創立者，無權限",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "You are not authorized to update this plan"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "未找到該計畫",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "Plan not found"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "delete": {
        "tags": [
          "Plan"
        ],
        "summary": "刪除計畫",
        "description": "刪除該單一計畫",
        "parameters": [
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "204": {
            "description": "已成功刪除計畫",
            "schema": {
              "type": "string",
              "example": "sucessfully delete",
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "403": {
            "description": "用戶通過驗證，但不是計畫創立者，無權限",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "You are not authorized to delete this plan"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "未找到該計畫",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "Plan not found"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/plan/application/{application_id}": {
      "get": {
        "tags": [
          "Plan"
        ],
        "summary": "取得申請細節",
        "description": "取得單一申請細節",
        "parameters": [
          {
            "name": "application_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "回傳申請細節",
            "schema": {
              "type": "object",
              "properties": {
                "application_id": {
                  "type": "string",
                  "example": "審核id"
                },
                "application_response": {
                  "type": "string",
                  "example": "審核回覆"
                },
                "is_approved": {
                  "type": "boolean",
                  "example": false
                },
                "applicant_id": {
                  "type": "string",
                  "example": "審核者id"
                },
                "plan_id": {
                  "type": "string",
                  "example": "計畫id"
                },
                "Applicant": {
                  "type": "object",
                  "properties": {
                    "申請者資料欄位": {
                      "type": "string",
                      "example": "申請者資料"
                    }
                  }
                },
                "Plan": {
                  "type": "object",
                  "properties": {
                    "plan_id": {
                      "type": "string",
                      "example": "計畫id"
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "403": {
            "description": "用戶通過驗證，但不是計畫創立者，無權限",
            "schema": {
              "type": "string",
              "example": "not plan creator",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "未找到申請",
            "schema": {
              "type": "string",
              "example": "application not found",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/plan/application/{application_id}/approve": {
      "patch": {
        "tags": [
          "Plan"
        ],
        "summary": "通過計畫審核申請",
        "description": "計畫創建者可以通過審核申請",
        "parameters": [
          {
            "name": "application_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "通過審核",
            "schema": {
              "type": "string",
              "example": "approved",
              "xml": {
                "name": "main"
              }
            }
          },
          "400": {
            "description": "申請已被通過",
            "schema": {
              "type": "string",
              "example": "application has been approved",
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "403": {
            "description": "用戶通過驗證，但不是計畫創立者，無權限",
            "schema": {
              "type": "string",
              "example": "not plan creator",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "未找到申請",
            "schema": {
              "type": "string",
              "example": "application not found",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/plan/{plan_id}/applications": {
      "get": {
        "tags": [
          "Plan"
        ],
        "summary": "檢視審核列表",
        "description": "計畫創建者可以檢視特定計畫的所有待審核列表",
        "parameters": [
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "回傳待審核名單",
            "schema": {
              "type": "object",
              "properties": {
                "application_id": {
                  "type": "string",
                  "example": "審核id"
                },
                "application_response": {
                  "type": "string",
                  "example": "審核回覆"
                },
                "is_approved": {
                  "type": "string",
                  "example": "是否已審核"
                },
                "applicant_id": {
                  "type": "string",
                  "example": "待審核者id"
                },
                "plan_id": {
                  "type": "string",
                  "example": "計畫id"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "403": {
            "description": "用戶通過驗證，但不是計畫創立者，無權限",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "not plan creator"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "未找到該用戶",
            "schema": {
              "type": "string",
              "example": "Participants not found.",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/plan/{plan_id}/apply": {
      "post": {
        "tags": [
          "Plan"
        ],
        "summary": "加入/申請計畫",
        "description": "不論是否需要審核的計畫都是使用這個API，不須審核的將直接加入。所有用戶都可以call這個API，但是計畫建立者會被擋掉",
        "parameters": [
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "需要審核計畫的審核問題",
            "schema": {
              "type": "object",
              "properties": {
                "application_response": {
                  "type": "string",
                  "example": "審核回覆"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "回傳該計畫參與紀錄",
            "schema": {
              "type": "string",
              "example": "joined!",
              "xml": {
                "name": "main"
              }
            }
          },
          "201": {
            "description": "用戶成功發出計畫申請，待審核",
            "schema": {
              "type": "string",
              "example": "Successfully send the application",
              "xml": {
                "name": "main"
              }
            }
          },
          "400": {
            "description": "用戶已加入",
            "schema": {
              "type": "string",
              "example": "participant existed",
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "403": {
            "description": "用戶通過驗證，但為計畫創立者，不應該申請",
            "schema": {
              "type": "string",
              "example": "Plan creator should not applied.",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "該計畫不存在",
            "schema": {
              "type": "string",
              "example": "Plan not found",
              "xml": {
                "name": "main"
              }
            }
          },
          "409": {
            "description": "申請者已存在",
            "schema": {
              "type": "string",
              "example": "Applicant already exist.",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/plan/{plan_id}/invitation": {
      "post": {
        "tags": [
          "Plan"
        ],
        "summary": "接受/拒絕計畫邀請",
        "description": "接受或拒絕該計畫的邀請，目前還有bug",
        "parameters": [
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    },
    "/plan/{plan_id}/leave": {
      "patch": {
        "tags": [
          "Plan"
        ],
        "description": "該功能尚未完成QQ",
        "parameters": [
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    },
    "/plan/{plan_id}/discussion": {
      "get": {
        "tags": [
          "Plan"
        ],
        "summary": "取得計畫留言",
        "description": "取得該計畫的留言",
        "parameters": [
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          },
          {
            "name": "limit",
            "in": "query",
            "description": "回傳資料數量限制，ex: limit=10, 限制前10筆",
            "type": "integer",
            "schema": {
              "type": "string",
              "example": "10"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "跳過資料數量限制，ex: offset=10，跳過前10筆",
            "type": "int",
            "schema": {
              "type": "string",
              "example": "0"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "回傳該計畫留言。包括該留言的資料，該留言會員資料以及計畫資料",
            "schema": {
              "type": "object",
              "properties": {
                "discussion_id": {
                  "type": "string",
                  "example": "留言id"
                },
                "content": {
                  "type": "string",
                  "example": "留言內容"
                },
                "sender_id": {
                  "type": "string",
                  "example": "留言用戶id"
                },
                "plan_id": {
                  "type": "string",
                  "example": "留言的計畫id"
                },
                "Sender": {
                  "type": "object",
                  "properties": {
                    "用戶細節": {
                      "type": "string",
                      "example": "..."
                    }
                  }
                },
                "plan": {
                  "type": "object",
                  "properties": {
                    "計畫細節": {
                      "type": "string",
                      "example": "..."
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "計畫不存在",
            "schema": {
              "type": "string",
              "example": "Plan not found",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "post": {
        "tags": [
          "Plan"
        ],
        "summary": "建立計畫留言",
        "description": "建立該計畫的留言",
        "parameters": [
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          },
          {
            "name": "content",
            "in": "body",
            "description": "留言內容",
            "schema": {
              "type": "object",
              "properties": {
                "content": {
                  "type": "string",
                  "example": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "留言建立成功",
            "schema": {
              "type": "string",
              "example": "discussion made",
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "403": {
            "description": "用戶通過驗證，但用戶未參加該計畫",
            "schema": {
              "type": "string",
              "example": "User hasn't joined the plan",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "計畫不存在",
            "schema": {
              "type": "string",
              "example": "Plan not found",
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/progress/{progress_id}/userprocess": {
      "get": {
        "tags": [
          "Progress"
        ],
        "summary": "取得用戶進度",
        "description": "取得單一用戶的單一計畫進度",
        "parameters": [
          {
            "name": "progress_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "取得用戶進度",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "User progress fetched successfully."
                },
                "單一用戶的計畫進度列表": {
                  "type": "object",
                  "properties": {
                    "userProgress_id": {
                      "type": "string",
                      "example": "用戶進度id"
                    },
                    "description": {
                      "type": "string",
                      "example": "用度進度細項"
                    },
                    "user_progress_date": {
                      "type": "string",
                      "example": "預期完成日期"
                    },
                    "activity_detail": {
                      "type": "string",
                      "example": "揪團活動細節"
                    },
                    "is_finished": {
                      "type": "string",
                      "example": "用戶進度計畫是否完成，可用來算次數"
                    },
                    "user_id": {
                      "type": "string",
                      "example": "用戶id"
                    },
                    "progress_id": {
                      "type": "string",
                      "example": "進度id"
                    },
                    "createdAt": {
                      "type": "string",
                      "example": "2024-05-17T12:06:13.000Z"
                    },
                    "updatedAt": {
                      "type": "string",
                      "example": "2024-05-17T12:06:13.000Z"
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "該用戶進度不存在",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "No progress found for the given user."
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "其他錯誤",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "error.message"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    },
    "/progress/{progress_id}/alluserprocess": {
      "get": {
        "tags": [
          "Progress"
        ],
        "summary": "取得該計畫所有用戶進度完成度",
        "description": "輸入進度id，會取得該計畫的進度內所有用戶進度的完成情況，可以用於點進去計畫的頁面",
        "parameters": [
          {
            "name": "progress_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "取得計畫所有用戶進度",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "User progress fetched successfully."
                },
                "user_id-progress_id": {
                  "type": "object",
                  "properties": {
                    "user_id": {
                      "type": "string",
                      "example": "用戶id"
                    },
                    "progress_id": {
                      "type": "string",
                      "example": "進度id"
                    },
                    "user_name": {
                      "type": "string",
                      "example": "用戶名稱"
                    },
                    "progress_name": {
                      "type": "string",
                      "example": "進度名稱"
                    },
                    "finished_count": {
                      "type": "string",
                      "example": "完成次數"
                    },
                    "total_count": {
                      "type": "string",
                      "example": "總共次數"
                    }
                  }
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "該計畫進度不存在",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "No progress found for the given process_id."
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "其他錯誤",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "error.message"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    },
    "/progress/{progress_id}": {
      "put": {
        "tags": [
          "Progress"
        ],
        "summary": "修改進度",
        "description": "修改該progress內容，僅計畫建立者可以修改",
        "parameters": [
          {
            "name": "progress_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "description": "進度修改細項",
            "schema": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "example": "progress名稱"
                },
                "times": {
                  "type": "string",
                  "example": "progress次數"
                },
                "need_activity": {
                  "type": "string",
                  "example": "false/true"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "進度修改成功",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Progress updated successfully."
                },
                "data": {
                  "type": "string",
                  "example": "updateProgress詳細資料"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "403": {
            "description": "用戶通過驗證，但用戶不是計劃創立者，沒有修改該進度的權限",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "You are not authorized to update this progress."
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "該進度不存在",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "Progress not found."
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "其他錯誤",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "error.message"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    },
    "/progress/{userprogress_id}/userprocess": {
      "put": {
        "tags": [
          "Progress"
        ],
        "summary": "修改用戶進度",
        "description": "修改該用戶進度內容，僅該用戶可以修改",
        "parameters": [
          {
            "name": "userprogress_id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "description": "輸入bearer空格 + jwt_token",
            "required": true,
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "description": {
                  "example": "any"
                },
                "activity_detail": {
                  "example": "any"
                },
                "is_finished": {
                  "example": "any"
                },
                "user_progress_date": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "進度修改成功",
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "User Progress updated successfully."
                },
                "data": {
                  "type": "string",
                  "example": "updateUserProgress詳細資料"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "401": {
            "description": "用戶未通過驗證，jwt_token或header錯誤",
            "schema": {
              "type": "string",
              "example": "authorization fail",
              "xml": {
                "name": "main"
              }
            }
          },
          "403": {
            "description": "用戶通過驗證，但用戶不是進度創立者，沒有修改該用戶進度的權限",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "You are not authorized to update this user progress."
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "用戶進度不存在",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "User Progress not found."
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "其他錯誤",
            "schema": {
              "type": "object",
              "properties": {
                "error": {
                  "type": "string",
                  "example": "error.message"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        }
      }
    }
  }
}